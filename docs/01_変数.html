<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>変数: Variables · Julia言語 講義資料</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Julia言語 講義資料</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">はじめに</a></li><li><a class="tocitem" href="01_基本機能.html">基本機能</a></li><li class="is-active"><a class="tocitem" href="01_変数.html">変数: Variables</a><ul class="internal"><li><a class="tocitem" href="#変数の宣言"><span>変数の宣言</span></a></li><li><a class="tocitem" href="#変数に関する四則演算の省略記法"><span>変数に関する四則演算の省略記法</span></a></li><li><a class="tocitem" href="#変数の文字列化"><span>変数の文字列化</span></a></li><li><a class="tocitem" href="#@show-マクロ:-[Base.@show](https://docs.julialang.org/en/v1/base/base/#Base.@show)"><span>@show マクロ: Base.@show</span></a></li><li><a class="tocitem" href="#@time-マクロ:-[Base.@show](https://docs.julialang.org/en/v1/base/base/#Base.@time)"><span>@time マクロ: Base.@show</span></a></li><li class="toplevel"><a class="tocitem" href="#変数のスコープ"><span>変数のスコープ</span></a></li><li class="toplevel"><a class="tocitem" href="#変数の名前"><span>変数の名前</span></a></li><li class="toplevel"><a class="tocitem" href="#変数の型:-[Types](https://docs.julialang.org/en/v1/manual/types/)"><span>変数の型: Types</span></a></li><li><a class="tocitem" href="#整数型:-[Integers](https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/#Integers)"><span>整数型: Integers</span></a></li></ul></li><li><a class="tocitem" href="02_浮動小数点数.html">浮動小数点数</a></li><li><a class="tocitem" href="03_関数.html">関数: Functions</a></li><li><a class="tocitem" href="04_条件分岐.html">条件分岐</a></li><li><a class="tocitem" href="05_ループ.html">ループ処理</a></li><li><a class="tocitem" href="06_配列.html">配列: Array</a></li><li><a class="tocitem" href="10_Pi.html">無限級数の数値計算</a></li><li><a class="tocitem" href="11_NewtonsMethod.html">Newton法</a></li><li><a class="tocitem" href="12_LinearAlgebra.html">線形代数に関する数値計算</a></li><li><a class="tocitem" href="A01_PyPlot.html">PyPlotによるグラフ描画</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="01_変数.html">変数: Variables</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="01_変数.html">変数: Variables</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ioikawa/EC-julia/blob/main/src/01_変数.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="変数:-[Variables](https://docs.julialang.org/en/v1/manual/variables/#man-variables)"><a class="docs-heading-anchor" href="#変数:-[Variables](https://docs.julialang.org/en/v1/manual/variables/#man-variables)">変数: <a href="https://docs.julialang.org/en/v1/manual/variables/#man-variables">Variables</a></a><a id="変数:-[Variables](https://docs.julialang.org/en/v1/manual/variables/#man-variables)-1"></a><a class="docs-heading-anchor-permalink" href="#変数:-[Variables](https://docs.julialang.org/en/v1/manual/variables/#man-variables)" title="Permalink"></a></h1><h2 id="変数の宣言"><a class="docs-heading-anchor" href="#変数の宣言">変数の宣言</a><a id="変数の宣言-1"></a><a class="docs-heading-anchor-permalink" href="#変数の宣言" title="Permalink"></a></h2><p>プログラミング言語における変数とは値や文字列などを格納する箱のようなものである．</p><p>Juliaでは <code>変数名 = 値</code> の形で記述することで，変数の宣言と値の代入が行われる．</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; x = 1      # 変数 `x` に `1` を割り当てる</code><code class="nohighlight hljs ansi" style="display:block;">1</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; x = 1;     # 文末のセミコロンで出力を抑制可能</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><h2 id="変数に関する四則演算の省略記法"><a class="docs-heading-anchor" href="#変数に関する四則演算の省略記法">変数に関する四則演算の省略記法</a><a id="変数に関する四則演算の省略記法-1"></a><a class="docs-heading-anchor-permalink" href="#変数に関する四則演算の省略記法" title="Permalink"></a></h2><p><code>数値*変数</code>の場合，変数の前の<code>*</code>を省略可能．</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; x = 1</code><code class="nohighlight hljs ansi" style="display:block;">1</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; 2x + 1</code><code class="nohighlight hljs ansi" style="display:block;">3</code></pre><p><code>x = x + a</code> は <code>x += a</code> と略記できる． </p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; x = 1</code><code class="nohighlight hljs ansi" style="display:block;">1</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; x += 100</code><code class="nohighlight hljs ansi" style="display:block;">101</code></pre><h2 id="変数の文字列化"><a class="docs-heading-anchor" href="#変数の文字列化">変数の文字列化</a><a id="変数の文字列化-1"></a><a class="docs-heading-anchor-permalink" href="#変数の文字列化" title="Permalink"></a></h2><p><code>x</code>を変数とする．文字列リテラル中に<code>$x</code> と書くと， 変数<code>x</code>の値が文字列に埋め込まれる．同様に <code>$(式)</code>と書くと <code>式</code>が評価（計算）されて文字列として埋め込まれる．</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; x = 16</code><code class="nohighlight hljs ansi" style="display:block;">16</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; println(&quot;x is $x&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">x is 16</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; println(&quot;The square root of x is $(sqrt(x))&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">The square root of x is 4.0</code></pre><h2 id="@show-マクロ:-[Base.@show](https://docs.julialang.org/en/v1/base/base/#Base.@show)"><a class="docs-heading-anchor" href="#@show-マクロ:-[Base.@show](https://docs.julialang.org/en/v1/base/base/#Base.@show)">@show マクロ: <a href="https://docs.julialang.org/en/v1/base/base/#Base.@show">Base.@show</a></a><a id="@show-マクロ:-[Base.@show](https://docs.julialang.org/en/v1/base/base/#Base.@show)-1"></a><a class="docs-heading-anchor-permalink" href="#@show-マクロ:-[Base.@show](https://docs.julialang.org/en/v1/base/base/#Base.@show)" title="Permalink"></a></h2><p><code>@show 変数 or 式</code> で変数表示できる． 変数のところに式を書くこともできる．</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; x = 10</code><code class="nohighlight hljs ansi" style="display:block;">10</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @show x</code><code class="nohighlight hljs ansi" style="display:block;">x = 10
10</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @show x^2 x^3 x^4;</code><code class="nohighlight hljs ansi" style="display:block;">x ^ 2 = 100
x ^ 3 = 1000
x ^ 4 = 10000</code></pre><h2 id="@time-マクロ:-[Base.@show](https://docs.julialang.org/en/v1/base/base/#Base.@time)"><a class="docs-heading-anchor" href="#@time-マクロ:-[Base.@show](https://docs.julialang.org/en/v1/base/base/#Base.@time)">@time マクロ: <a href="https://docs.julialang.org/en/v1/base/base/#Base.@time">Base.@show</a></a><a id="@time-マクロ:-[Base.@show](https://docs.julialang.org/en/v1/base/base/#Base.@time)-1"></a><a class="docs-heading-anchor-permalink" href="#@time-マクロ:-[Base.@show](https://docs.julialang.org/en/v1/base/base/#Base.@time)" title="Permalink"></a></h2><p>与えられた式を実行するのにかかった時間と allocation (メモリ割り当て) の総量を表示する．</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; @time sleep(0.5)    # `sleep(t)`は `t`[s]だけ実行を停止するコマンド</code><code class="nohighlight hljs ansi" style="display:block;">  0.502942 seconds (56 allocations: 1.375 KiB)</code></pre><h1 id="変数のスコープ"><a class="docs-heading-anchor" href="#変数のスコープ">変数のスコープ</a><a id="変数のスコープ-1"></a><a class="docs-heading-anchor-permalink" href="#変数のスコープ" title="Permalink"></a></h1><p>変数にはスコープ（有効範囲）の違いによってグローバル変数とローカル変数の２種類に分けられる． 通常はどこでも参照可能なグローバル変数になる．</p><p>スコープ範囲を作り出すコマンドとして，例えば <code>let ... end</code> がある． <code>let ... end</code> で囲まれた部分で宣言した変数のスコープはコードブロック内に限定される． つまり，暗黙のうちにローカル変数となる．</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; begin
       foo = 1          # グローバル変数
       @show foo        # メタ構文変数： 特に意味のない変数名．日本語圏ではhoge, fuga, など．最近ではあまり見かけなくなった．
       let
           foo = &quot;local variable&quot;    # ローカル変数
           @show foo
       end
       @show foo       # グローバル変数の foo
       end;</code><code class="nohighlight hljs ansi" style="display:block;">foo = 1
foo = &quot;local variable&quot;
foo = 1</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>上の例のように，グローバル変数と同じ名前のローカル変数を宣言すると非常にわかりにくいコードになるので要注意．レポートでは特別な理由がない限り，グローバル変数と同じ名前のローカル変数は使わないようにしてください．また，<code>let ... end</code> を使わなければならないようなコード設計は避けてください．</p></div></div><h1 id="変数の名前"><a class="docs-heading-anchor" href="#変数の名前">変数の名前</a><a id="変数の名前-1"></a><a class="docs-heading-anchor-permalink" href="#変数の名前" title="Permalink"></a></h1><p>原則として，<strong>変数名は他の人がコードを読んだときにわかりやすい名前をつける</strong>ようにする．   「他の人」には1ヶ月後の自分も含まれるので，自分だけしか見ないようなコードでも同様である．</p><p>変数の用途を的確に表す単語やフレーズにすることが望ましい．     変数名は通常は英語で書くが，ローマ字でもわかりやすければ全然問題ない．</p><p>例えば，幅と高さから長方形の面積を計算値をある変数に格納する場合は，</p><pre><code class="nohighlight hljs">   area = width*height</code></pre><p>よりも</p><pre><code class="nohighlight hljs">   area_rectangle = width*height</code></pre><p>と書いたほうがより明確になる． 右辺の計算式から変数の意味や用途を推測できるような場合でも，このように はっきり書いてあったほうが読み手にとっては負担が少なくなる．</p><p>無駄に長すぎる変数名は逆にわかりにくくしてしまうので注意が必要である．</p><pre><code class="nohighlight hljs">    two_dimensional_lebesgue_measure_rectangle = width*height  </code></pre><p>もし，一時的にしか使わないのならば，短い変数名にしてコメントで説明を書いておく というのも有効である．</p><pre><code class="nohighlight hljs">   S = width*height    # 長方形の面積</code></pre><div class="admonition is-danger"><header class="admonition-header">レポート作成上の注意</header><div class="admonition-body"><p>Juliaでは日本語のようなマルチバイト文字も変数名として使用可能ですが，  以下の理由から，できるだけアルファベット表記してください．</p><ul><li>他言語ではマルチバイト文字が使用可能とは限らない．</li><li>コメントとして日本語表記を想定しているので，変数名と混じると紛らわしい．</li><li>入力に手間がかかる割に，特にメリットがない．</li></ul></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Juliaにおける命名規則については，<a href="https://docs.julialang.org/en/v1/manual/variables/#Stylistic-Conventions">スタイルガイド</a>を参照．</p></div></div><h1 id="変数の型:-[Types](https://docs.julialang.org/en/v1/manual/types/)"><a class="docs-heading-anchor" href="#変数の型:-[Types](https://docs.julialang.org/en/v1/manual/types/)">変数の型: <a href="https://docs.julialang.org/en/v1/manual/types/">Types</a></a><a id="変数の型:-[Types](https://docs.julialang.org/en/v1/manual/types/)-1"></a><a class="docs-heading-anchor-permalink" href="#変数の型:-[Types](https://docs.julialang.org/en/v1/manual/types/)" title="Permalink"></a></h1><p>各変数には<strong>型 (type)</strong> が定められている．型はどのようなデータを格納しているか表すラベルのようなものである．   変数の型は<code>typeof()</code>で確認できる．</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; typeof(1)</code><code class="nohighlight hljs ansi" style="display:block;">Int64</code></pre><p>整数値は自動的に<code>Int64</code>という整数型になる．型の種類についてはすぐ後で説明する．</p><p>Juliaの場合，変数の型は <em>動的</em>（コンパイル時に自動的に決定される）なので，我々は書かなくてよい． 例えば，<code>Int64</code>型の値を変数に代入すると，その変数は自動的に <code>Int64</code> 型になる． </p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; x = 1</code><code class="nohighlight hljs ansi" style="display:block;">1</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; typeof(x)</code><code class="nohighlight hljs ansi" style="display:block;">Int64</code></pre><h2 id="整数型:-[Integers](https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/#Integers)"><a class="docs-heading-anchor" href="#整数型:-[Integers](https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/#Integers)">整数型: <a href="https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/#Integers">Integers</a></a><a id="整数型:-[Integers](https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/#Integers)-1"></a><a class="docs-heading-anchor-permalink" href="#整数型:-[Integers](https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/#Integers)" title="Permalink"></a></h2><p><code>Int64</code>型は64bit長の符号付き整数 (integer)を表す．整数型には<code>Int8</code>, <code>Int16</code>, <code>Int32</code>, <code>Int64</code>, <code>Int128</code>がある． 値として<code>1</code>や<code>-200</code>と記述した場合，暗黙的に<code>Int64</code>と解釈される．型を明示して代入することもできる．</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; x = Int128(1)</code><code class="nohighlight hljs ansi" style="display:block;">1</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; typeof(x)</code><code class="nohighlight hljs ansi" style="display:block;">Int128</code></pre><p>単に<code>Int</code>とタイプするとシステム環境のbit数に依存して解釈される．<sup class="footnote-reference"><a id="citeref-Int64" href="#footnote-Int64">[Int64]</a></sup></p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; typeof(Int(1))</code><code class="nohighlight hljs ansi" style="display:block;">Int64</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Sys.WORD_SIZE   # システム環境のbit数の確認</code><code class="nohighlight hljs ansi" style="display:block;">64</code></pre><p>整数型はビット数に応じて扱える整数の範囲に限界がある（<a href="https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/#Integers-and-Floating-Point-Numbers">参考</a>）． <code>typemax()</code>, <code>typemin()</code>で扱える整数の最大値と最小値が具体的に知ることができる．</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; typemax(Int64)</code><code class="nohighlight hljs ansi" style="display:block;">9223372036854775807</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; typemin(Int64)</code><code class="nohighlight hljs ansi" style="display:block;">-9223372036854775808</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; typemax(UInt64)</code><code class="nohighlight hljs ansi" style="display:block;">0xffffffffffffffff</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; typemin(UInt64)</code><code class="nohighlight hljs ansi" style="display:block;">0x0000000000000000</code></pre><p>限界の最大値に正の値を足そうとすると，overflowを起こして正常な結果が得られない．</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; typemax(Int64) + 1</code><code class="nohighlight hljs ansi" style="display:block;">-9223372036854775808</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; typemax(UInt64) + 1</code><code class="nohighlight hljs ansi" style="display:block;">0x0000000000000000</code></pre><p>演算の際にoverflowを検知するためには，<code>Base.Checked.checked_add</code>などが使える．</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; Base.Checked.checked_add(100, 1)  # 100 + 1 = 101 で範囲内で問題なし．</code><code class="nohighlight hljs ansi" style="display:block;">101</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; M = typemax(Int64)</code><code class="nohighlight hljs ansi" style="display:block;">9223372036854775807</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; m = typemin(Int64)</code><code class="nohighlight hljs ansi" style="display:block;">-9223372036854775808</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Base.Checked.checked_add(M, 1)   # M+1 → overflowエラーが発生する</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: OverflowError: 9223372036854775807 + 1 overflowed for type Int64</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Base.Checked.checked_mul(M, 2)   # M*2 → overflowエラーが発生する</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: OverflowError: 9223372036854775807 * 2 overflowed for type Int64</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Base.Checked.checked_sub(typemin(Int64), 1)   # m-1 → underflowエラーが発生する</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: OverflowError: -9223372036854775808 - 1 overflowed for type Int64</code></pre><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-Int64"><a class="tag is-link" href="#citeref-Int64">Int64</a><a href="https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/#Integers">Document/Integers</a>． </li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="01_基本機能.html">« 基本機能</a><a class="docs-footer-nextpage" href="02_浮動小数点数.html">浮動小数点数 »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Saturday 21 January 2023 00:00">Saturday 21 January 2023</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
